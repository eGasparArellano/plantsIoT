<app-navbar></app-navbar>
<div class="container">
    <div class="card">
        <div class="container-fliud">
            <div class="wrapper row">
                <div class="preview col-md-6">
                    
                    <div class="preview-pic tab-content">
                      <div class="tab-pane active" id="pic-1"><img src="https://www.gardeningknowhow.com/wp-content/uploads/2011/07/plant.jpg" /></div>
                    </div>                
                </div>
                <div class="details col-md-6">
                    <h3 class="product-title">{{plant['plantNumber']}}.- {{plant['name']}}</h3>
                   
                    <p class="product-description">{{plant['description']}}</p>
                    <h6 class="descriptors">Nivel de humedad: <span>{{plant['humidity']}}</span></h6>
                    <h6 class="descriptors">Ultima fecha de riego:  </h6>
                    <h6><span>02/02/2020 22:22 </span></h6>
                    <div class="col-2"></div>
                    <div class="col-2">
                         <!-- Button trigger modal -->
                        <button type="button" class="btn btn-danger btn-lg" data-toggle="modal" data-target="#deletePlantModal">
                        Eliminar
                        </button>
                    </div>
                </div>
               
            </div>
        </div>
    </div>
</div>

<div class="container">
    <div class="card">
        
            
       <!-- Nav tabs -->
        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item">
            <a class="nav-link active" id="humidity-tab" data-toggle="tab" href="#humidity" role="tab" aria-controls="humidity" aria-selected="true" >Última medición de humedad</a>
            </li>
            <li class="nav-item">
            <a class="nav-link" id="graph-tab" data-toggle="tab" href="#graph" role="tab" aria-controls="graph" aria-selected="false" >Gráfica</a>
            </li>
        </ul>
  
  <!-- Tab panes -->
  <div class="tab-content">
    <div class="tab-pane active" id="humidity" role="tabpanel" aria-labelledby="humidity-tab">
               <app-humidity-graph *ngIf="plant.plantNumber > 0" [plantId]="plant.plantNumber" [desiredValue]="humidity"></app-humidity-graph>
            
    </div>
    <div class="tab-pane " id="graph" role="tabpanel" aria-labelledby="graph-tab">
        <div class="row ">
            <div class="col">
                <iframe width="450" height="260" style="border: 1px solid #cccccc;" [src]="chartSource | safe"></iframe>
                <h6 class="descriptors">Ultima medición de humedad </h6>
            </div>
        </div>
    </div>
  </div>

        
        
        

        

        <!-- <div class="tab-content">
            <div id="home" class="tab-pane fade in active">
              <h3>HOME</h3>
              <p>Some content.</p>
            </div>
        </div> -->
               
            
        
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="deletePlantModal" tabindex="-1" role="dialog" aria-labelledby="modelTitleId" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Eliminar</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
            </div>
            <div class="modal-body">
                ¿Está seguro de eliminar la planta?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-danger" (click)="deletePlant()">Eliminar</button>
            </div>
        </div>
    </div>
</div>


